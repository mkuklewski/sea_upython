  --- This code is automatically generated by the addrgen_wb.py tool
  --- Please don't edit it manaully, unless you really have to do it.

  library ieee;
  use ieee.std_logic_1164.all;
  use ieee.numeric_std.all;
  library general_cores;
  use general_cores.wishbone_pkg.all;
  library work;
  use work.agwb_SYS1_wb_pkg.all;

  entity agwb_SYS1_wb is
    port (
      slave_i : in t_wishbone_slave_in;
      slave_o : out t_wishbone_slave_out;

      CTRL_o : out  t_CTRL;
      CTRL_o_stb : out std_logic;
      STATUS_i : in  t_STATUS;
      STATUS_i_ack : out std_logic;
      ENABLEs_o : out  t_ENABLEs_array;

      rst_n_i : in std_logic;
      clk_sys_i : in std_logic
      );

  end agwb_SYS1_wb;

  architecture gener of agwb_SYS1_wb is
      signal int_CTRL_o : t_CTRL;
    signal int_CTRL_o_stb : std_logic;
    signal int_ENABLEs_o : t_ENABLEs_array;

    -- Internal WB declaration
    signal int_regs_wb_m_o : t_wishbone_master_out;
    signal int_regs_wb_m_i : t_wishbone_master_in;
    signal int_addr : std_logic_vector(4-1 downto 0);
    signal wb_up_o : t_wishbone_slave_out_array(0 to 0);
    signal wb_up_i : t_wishbone_slave_in_array(0 to 0);
    signal wb_m_o : t_wishbone_master_out_array(0 to 1-1);
    signal wb_m_i : t_wishbone_master_in_array(0 to 1-1);

    -- Constants
    constant c_address : t_wishbone_address_array(0 to 1-1) := (0=>"00000000000000000000000000000000");
    constant c_mask : t_wishbone_address_array(0 to 1-1) := (0=>"00000000000000000000000000000000");

  begin
    wb_up_i(0) <= slave_i;
    slave_o <= wb_up_o(0);
    int_addr <= int_regs_wb_m_o.adr(4-1 downto 0);

  -- Main crossbar
    xwb_crossbar_1: entity general_cores.xwb_crossbar
    generic map (
       g_num_masters => 1,
       g_num_slaves  => 1,
       g_registered  => false,
       g_address     => c_address,
       g_mask        => c_mask)
    port map (
       clk_sys_i => clk_sys_i,
       rst_n_i   => rst_n_i,
        slave_i   => wb_up_i,
        slave_o   => wb_up_o,
       master_i  => wb_m_i,
       master_o  => wb_m_o,
      sdb_sel_o => open);

  -- Process for register access
    process(clk_sys_i)
    begin
      if rising_edge(clk_sys_i) then
        if rst_n_i = '0' then
          -- Reset of the core
          int_regs_wb_m_i <= c_DUMMY_WB_MASTER_IN;
  
        else
          -- Normal operation
          int_regs_wb_m_i.rty <= '0';
          int_regs_wb_m_i.ack <= '0';
          int_regs_wb_m_i.err <= '0';
          int_CTRL_o_stb <= '0';
          STATUS_i_ack <= '0';

          if (int_regs_wb_m_o.cyc = '1') and (int_regs_wb_m_o.stb = '1') then
            int_regs_wb_m_i.err <= '1'; -- in case of missed address
            -- Access, now we handle consecutive registers
            case int_addr is
            when "0010" => -- 0x2
               int_regs_wb_m_i.dat <= (others => '0');
               int_regs_wb_m_i.dat(1 downto 0) <= t_CTRL2stlv(int_CTRL_o);
               if int_regs_wb_m_o.we = '1' then
                 int_CTRL_o <= stlv2t_CTRL(int_regs_wb_m_o.dat(1 downto 0));
               if int_regs_wb_m_i.ack = '0' then
                  int_CTRL_o_stb <= '1';
               end if;
               end if;
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            when "0011" => -- 0x3
               int_regs_wb_m_i.dat <= (others => '0');
               int_regs_wb_m_i.dat(31 downto 0) <= std_logic_vector(STATUS_i);
               if int_regs_wb_m_i.ack = '0' then
                  STATUS_i_ack <= '1';
               end if;
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            when "0100" => -- 0x4
               int_regs_wb_m_i.dat <= (others => '0');
               int_regs_wb_m_i.dat(31 downto 0) <= std_logic_vector(int_ENABLEs_o(0));
               if int_regs_wb_m_o.we = '1' then
                 int_ENABLEs_o(0) <= std_logic_vector(int_regs_wb_m_o.dat(31 downto 0));
               end if;
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            when "0101" => -- 0x5
               int_regs_wb_m_i.dat <= (others => '0');
               int_regs_wb_m_i.dat(31 downto 0) <= std_logic_vector(int_ENABLEs_o(1));
               if int_regs_wb_m_o.we = '1' then
                 int_ENABLEs_o(1) <= std_logic_vector(int_regs_wb_m_o.dat(31 downto 0));
               end if;
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            when "0110" => -- 0x6
               int_regs_wb_m_i.dat <= (others => '0');
               int_regs_wb_m_i.dat(31 downto 0) <= std_logic_vector(int_ENABLEs_o(2));
               if int_regs_wb_m_o.we = '1' then
                 int_ENABLEs_o(2) <= std_logic_vector(int_regs_wb_m_o.dat(31 downto 0));
               end if;
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            when "0111" => -- 0x7
               int_regs_wb_m_i.dat <= (others => '0');
               int_regs_wb_m_i.dat(31 downto 0) <= std_logic_vector(int_ENABLEs_o(3));
               if int_regs_wb_m_o.we = '1' then
                 int_ENABLEs_o(3) <= std_logic_vector(int_regs_wb_m_o.dat(31 downto 0));
               end if;
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            when "1000" => -- 0x8
               int_regs_wb_m_i.dat <= (others => '0');
               int_regs_wb_m_i.dat(31 downto 0) <= std_logic_vector(int_ENABLEs_o(4));
               if int_regs_wb_m_o.we = '1' then
                 int_ENABLEs_o(4) <= std_logic_vector(int_regs_wb_m_o.dat(31 downto 0));
               end if;
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            when "1001" => -- 0x9
               int_regs_wb_m_i.dat <= (others => '0');
               int_regs_wb_m_i.dat(31 downto 0) <= std_logic_vector(int_ENABLEs_o(5));
               if int_regs_wb_m_o.we = '1' then
                 int_ENABLEs_o(5) <= std_logic_vector(int_regs_wb_m_o.dat(31 downto 0));
               end if;
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            when "1010" => -- 0xa
               int_regs_wb_m_i.dat <= (others => '0');
               int_regs_wb_m_i.dat(31 downto 0) <= std_logic_vector(int_ENABLEs_o(6));
               if int_regs_wb_m_o.we = '1' then
                 int_ENABLEs_o(6) <= std_logic_vector(int_regs_wb_m_o.dat(31 downto 0));
               end if;
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            when "1011" => -- 0xb
               int_regs_wb_m_i.dat <= (others => '0');
               int_regs_wb_m_i.dat(31 downto 0) <= std_logic_vector(int_ENABLEs_o(7));
               if int_regs_wb_m_o.we = '1' then
                 int_ENABLEs_o(7) <= std_logic_vector(int_regs_wb_m_o.dat(31 downto 0));
               end if;
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            when "1100" => -- 0xc
               int_regs_wb_m_i.dat <= (others => '0');
               int_regs_wb_m_i.dat(31 downto 0) <= std_logic_vector(int_ENABLEs_o(8));
               if int_regs_wb_m_o.we = '1' then
                 int_ENABLEs_o(8) <= std_logic_vector(int_regs_wb_m_o.dat(31 downto 0));
               end if;
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            when "1101" => -- 0xd
               int_regs_wb_m_i.dat <= (others => '0');
               int_regs_wb_m_i.dat(31 downto 0) <= std_logic_vector(int_ENABLEs_o(9));
               if int_regs_wb_m_o.we = '1' then
                 int_ENABLEs_o(9) <= std_logic_vector(int_regs_wb_m_o.dat(31 downto 0));
               end if;
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';

            when "0000" =>
               int_regs_wb_m_i.dat <= x"5bd964c2";
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            when "0001" =>
               int_regs_wb_m_i.dat <= x"6a45b3f2";
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            when others =>
               int_regs_wb_m_i.dat <= x"A5A5A5A5";
               int_regs_wb_m_i.ack <= '1';
               int_regs_wb_m_i.err <= '0';
            end case;
          end if;
        end if;
      end if;
    end process;
    CTRL_o <= int_CTRL_o;
    CTRL_o_stb <= int_CTRL_o_stb;
    ENABLEs_o <= int_ENABLEs_o;
    wb_m_i(0) <= int_regs_wb_m_i;
    int_regs_wb_m_o  <= wb_m_o(0);

  end architecture;
